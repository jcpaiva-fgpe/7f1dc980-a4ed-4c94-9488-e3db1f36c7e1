<!DOCTYPE html><html><head><meta charset='utf-8'><meta http-equiv='X-UA-Compatible' content='IE=edge'><title>Page Title</title><meta name='viewport' content='width=device-width, initial-scale=1'><link rel='stylesheet' type='text/css' media='screen' href='main.css'><script src='main.js'></script></head><body><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ibland, istället för att fånga undantaget när det inträffar, vill vi </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"kasta"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> undantaget tillbaka till anropsmetoden.</font></font></p> 
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">När en metod använder en sats som kan generera ett undantag, men det nämnda undantaget inte fångas upp och hanteras av det, utan hanteras av den som anropar metoden, säger vi att </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">undantagsdelegering har inträffat.</font></font></strong></p> 
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">För att upprätta denna delegering deklareras typen av undantag som kan genereras och som måste hanteras av den som åberopar metoden i metodhuvudet. </font><font style="vertical-align: inherit;">Vi kommer att använda satsen för detta </font></font><code>throws</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">och efter det ordet anges vilka undantag metodkoden kan orsaka. </font><font style="vertical-align: inherit;">Om ett undantag inträffar i metoden, avslutar koden den metoden och återgår till koden från vilken metoden anropades. </font><font style="vertical-align: inherit;">Där kommer den att sitta på den </font></font><code>catch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lämpliga för det undantaget.</font></font></p> 
        <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exempel:</font></font></h3> 
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vi har modifierat exemplet med undantagsfångst så att dataavläsningen görs i sin egen metod, även om undantagsfångningen fortfarande finns i metoden </font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eftersom den nya metoden&nbsp; </font></font><code>leeTeclado</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delegerar hanteringen av undantagen med </font></font><code>throws</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p> 
        <blockquote> 
         <p><code>/*<br> &nbsp;* Ejercicio resuelto sobre manejo de excepciones.<br> &nbsp;* El programa solicita que el usuario introduzca por teclado<br> &nbsp;* un número entre 0 y 100, debiendo gestionarse la entrada<br> &nbsp;* por medio de excepciones.<br> &nbsp;*/</code></p> 
         <p><code>import java.io.*;</code></p> 
         <p><code>public class ejercicio_resuelto_excepciones {<br> &nbsp;&nbsp;&nbsp; public static void main(String[] args){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int numero=-1;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int intentos=0;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String linea;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BufferedReader teclado = new BufferedReader(new InputStreamReader(System.in));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.print("Introduzca un número entre 0 y 100: ");<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; numero = leeTeclado(teclado);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(IOException e){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println("Error al leer del teclado.");<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(NumberFormatException e){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println("Debe introducir un número entre 0 y 100.");<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }finally{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; intentos++;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }while (numero &lt; 0 || numero &gt; 100);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println("El número introducido es: " + numero);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println("Número de intentos: " + intentos);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; }</code></p> 
         <p><code>&nbsp;&nbsp;&nbsp; private static int leeTeclado(BufferedReader teclado) <strong>throws NumberFormatException, IOException</strong> {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String linea = teclado.readLine();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int numero = Integer.parseInt(linea);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return numero;<br> &nbsp;&nbsp;&nbsp; }<br> }</code></p> 
        </blockquote> 
        <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Träning:</font></font></h3> 
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I exemplet som motsvarar avsnittet Läs från tangentbordet visas kvalifikationen i programmeringsmodulen som användaren anger med tangentbordet:</font></font></p> 
        <blockquote> 
         <p><code>import java.util.Scanner;</code></p> 
         <p><code>public class LecturaTeclado {</code></p> 
         <p><code>&nbsp; &nbsp; public static void main(String[] args) {<br> &nbsp; &nbsp; &nbsp; &nbsp; Scanner sc = new Scanner(System.in);<br> &nbsp; &nbsp; &nbsp; &nbsp; int miCalificacion = 0;<br> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; System.out.println("Dime la nota que me corresponde:");<br> &nbsp; &nbsp; &nbsp; &nbsp; miCalificacion = sc.nextInt();</code></p> 
         <p><code>&nbsp; &nbsp; &nbsp; &nbsp; System.out.println("Mi nota en PROGRAMACION es: " + miCalificacion);<br> &nbsp; &nbsp; }</code></p> 
         <p><code>}</code></p> 
        </blockquote> 
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ändra den tidigare koden genom att inkludera en readKeyboard-metod, som delegerar </font></font><a href="https://translate.google.com/website?sl=es&amp;tl=sv&amp;hl=es&amp;client=webapp&amp;u=https://docs.oracle.com/javase/8/docs/api/java/util/InputMismatchException.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InputMismatchException-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> undantaget till huvudmetoden om användaren anger ett flytande värde.</font></font></p></body></html>